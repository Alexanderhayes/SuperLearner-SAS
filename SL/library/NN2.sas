%MACRO NN2(TRAIN, Y, Y_TYPE, X, ID, T, WEIGHTS, SEED, WD);
title3 "NN2";
title4 "FITTING: NEURAL NET (MLP WITH 2 HIDDEN UNITS)"; 
title5 "VARIABLE SELECTION: ALL";
proc neural data=&TRAIN dmdbcat=sl.dmdbcat random=&SEED;
 %IF &Y_TYPE=BIN %THEN %DO; 
  netoptions object=LIKE; 
  target &Y  / id=o level=ordinal;
 %END;
 %ELSE %IF &Y_TYPE=CTS %THEN %DO; 
  netoptions object=DEV; 
  target &Y  / id=o level=interval;
 %END; 
 input &X / id=i level=interval;
 hidden 2 / id=h;
 prelim 5;
 code file="&WD\f_NN2.sas";
run;
data _null_;
 file "&WD\f_NN2.sas" MOD;
 %IF &Y_TYPE=BIN %THEN %DO; put "p_NN2 = p_&Y.1 ;" ; %END;
 %ELSE %IF &Y_TYPE=CTS %THEN %DO; put "p_NN2 = p_&Y ;" ; %END;
run;
%MEND NN2;
